entities:
- name: laplacian_project
  namespace: laplacian.project
  subtype_of: laplacian_module

  properties:
  - name: namespace
    type: string
    optional: true
    default_value: |
      listOfNotNull(group, name, subname)
          .map{ it.lowerUnderscorize() }
          .joinToString(".")

  relationships:
  - name: parent_project
    reference_entity_name: laplacian_project
    cardinality: '0..1'
    mappings:
    - from: group
      to: name

  - name: subprojects
    reference_entity_name: laplacian_project
    cardinality: '*'
    mappings:
    - from: name
      to: group

  - name: generators
    reference_entity_name: laplacian_generator
    cardinality: '*'
    mappings:
    - from: name
      to: name
    - from: group
      to: group

